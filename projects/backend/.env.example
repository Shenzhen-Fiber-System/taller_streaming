# =============================================================================
# STREAMING WORKSHOP - Backend Configuration
# =============================================================================
# Este archivo contiene las variables de entorno necesarias para el backend
# del taller de Spring WebFlux + Streaming.
#
# IMPORTANTE: Este backend NO ejecuta Janus ni FFmpeg localmente.
# Se conecta a un servidor central remoto que gestiona la infraestructura
# de streaming.
#
# Para montar tu propio servidor, consulta: server-setup/SETUP_GUIDE.md
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Local - Jornada 1)
# -----------------------------------------------------------------------------
# Base de datos MySQL para metadatos de streams (StreamMeta)
SPRING_R2DBC_URL=r2dbc:mysql://localhost:3306/streamingdb
DB_USERNAME=root
DB_PASSWORD=password123

# -----------------------------------------------------------------------------
# Central Streaming Server (Remote - Jornada 2)
# -----------------------------------------------------------------------------
# URL del servidor central que gestiona Janus Gateway + FFmpeg + HLS
# Este servidor debe estar corriendo y ser accesible públicamente
CENTRAL_SERVER_BASE_URL=https://taller.ourshop.work

# API Key opcional si el servidor central requiere autenticación
CENTRAL_SERVER_API_KEY=

# Timeout para requests HTTP al servidor central (en segundos)
CENTRAL_SERVER_TIMEOUT_SECONDS=30

# =============================================================================
# Notas:
# - Jornada 1: Solo necesitas la base de datos local
# - Jornada 2: Debes configurar CENTRAL_SERVER_BASE_URL correctamente
# - El servidor central expone los endpoints:
#   * GET  /api/v1/webrtc/ice-servers
#   * POST /api/v1/streams/{id}/webrtc/offer
#   * POST /api/v1/streams/{id}/webrtc/ice
#   * DELETE /api/v1/streams/{id}/webrtc
# =============================================================================
# WEBRTC_HLS_PUBLIC_BASE_URL=https://taller.ourshop.work

# Host/IP for Janus rtp_forward destination (where this backend listens UDP).
# Default: 127.0.0.1
# WEBRTC_RTP_FORWARD_HOST=127.0.0.1

# Optional: log each HTTP request (useful for debugging offers)
# HTTP_LOGGING_ENABLED=true
